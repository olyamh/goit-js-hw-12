{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(images){\n    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>`\n                <li class=\"gallery-item\">\n                    <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/>\n                        <ul class=\"image-descr-list\">\n                            <li class=\"image-descr-item\">Tags: ${tags}</li>\n                            <li class=\"image-descr-item\">Likes: ${likes}</li>\n                            <li class=\"image-descr-item\">Views: ${views}</li>\n                            <li class=\"image-descr-item\">Comments: ${comments}</li>\n                            <li class=\"image-descr-item\">Downloads: ${downloads}</li>\n                        </ul>\n                    </a>\n                </li>\n                `\n            ).join('');\n}\n","import axios from \"axios\";\n\nexport async function needPhotos(url, key, params) {\n    const { data } = await axios.get(`${url}?key=${key}&${params}`);\n    console.log(\"await data\",data)\n    return data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/css/simple-lightbox.min.css';\n\nimport { createMarkup } from './js/render-functions';\nimport { needPhotos } from './js/pixabay-api';\n\n\nconst API_KEY = '47534106-2225be5d16534437522f359a0';\nconst params = new URLSearchParams({\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  page: 1,\n  per_page: 15,\n});\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector('.js-search-form');\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n\n  const input = event.target.querySelector('.search-input');\n  const clientInput = input.value.trim();\n  console.log('input-trim:', clientInput);\n  if (!clientInput) {\n    iziToast.show({\n      messageColor: 'white',\n      backgroundColor: 'red',\n      position: 'topRight',\n      close: true,\n      title: ``,\n      message: 'Please, enter text',\n    });\n    form.reset();\n    return;\n  }\n  params.set('q', clientInput);\n\n  needPhotos(BASE_URL, API_KEY, params)\n    .then(data => {\n      if (data.hits.lenght === 0) {\n        iziToast.show({\n          messageColor: 'white',\n          backgroundColor: 'red',\n          position: 'topRight',\n          close: true,\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      \n      \n      gallery.insertAdjacentHTML(\"beforeend\" ,createMarkup(data.hits));\n      const lightbox = new SimpleLightbox('.gallery-item a', {\n        captionDelay: 250,\n        captions: true,\n        captionsData: 'alt',\n      });\n\n      lightbox.refresh();\n\n      loader.style.visibility = 'hidden';\n    })\n    .catch(error =>\n      iziToast.show({\n        messageColor: 'white',\n        backgroundColor: 'red',\n        position: 'topRight',\n        close: true,\n        title: `${error}`,\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      })\n    )\n    .finally(() => form.reset());\n\n\n});"],"names":["createMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","needPhotos","url","key","params","data","axios","API_KEY","BASE_URL","gallery","form","event","clientInput","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAO,CAChC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAK;AAAA;AAAA,+BAEnEL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,iEAEpBA,CAAI;AAAA,kEACHC,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,iBAK/E,EAAc,KAAK,EAAE,CACrB,CCbO,eAAeC,EAAWC,EAAKC,EAAKC,EAAQ,CAC/C,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,IAAI,GAAGJ,CAAG,QAAQC,CAAG,IAAIC,CAAM,EAAE,EAC9D,eAAQ,IAAI,aAAaC,CAAI,EACtBA,CACX,CCGA,MAAME,EAAU,qCACVH,EAAS,IAAI,gBAAgB,CACjC,IAAKG,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EACZ,CAAC,EACKC,EAAW,2BAEXC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,iBAAiB,EACrDA,EAAK,iBAAiB,SAAU,SAAUC,EAAO,CAC/CA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GAGpB,MAAMG,EADQD,EAAM,OAAO,cAAc,eAAe,EAC9B,MAAM,KAAI,EAEpC,GADA,QAAQ,IAAI,cAAeC,CAAW,EAClC,CAACA,EAAa,CAChBC,EAAS,KAAK,CACZ,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GACP,QAAS,oBACf,CAAK,EACDH,EAAK,MAAK,EACV,MACD,CACDN,EAAO,IAAI,IAAKQ,CAAW,EAE3BX,EAAWO,EAAUD,EAASH,CAAM,EACjC,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBQ,EAAS,KAAK,CACZ,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GACP,QACE,0EACZ,CAAS,EAIHJ,EAAQ,mBAAmB,YAAajB,EAAaa,EAAK,IAAI,CAAC,EAC9C,IAAI,eAAe,kBAAmB,CACrD,aAAc,IACd,SAAU,GACV,aAAc,KACtB,CAAO,EAEQ,QAAO,EAEhB,OAAO,MAAM,WAAa,QAChC,CAAK,EACA,MAAMS,GACLD,EAAS,KAAK,CACZ,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,MAAO,GACP,MAAO,GAAGC,CAAK,GACf,QACE,0EACV,CAAO,CACF,EACA,QAAQ,IAAMJ,EAAK,MAAK,CAAE,CAG/B,CAAC"}